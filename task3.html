<!DOCTYPE html>
<html lang="en">
<head>
	<title>Caesar Cipher</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<script type="text/javascript">

		function xml_http_post(url, data, callback) {
			var req = false;
			try {			// Firefox, Opera 8.0+, Safari
				req = new XMLHttpRequest();}
			catch (e) {		// Internet Explorer
				try {
					req = new ActiveXObject("Msxml2.XMLHTTP");}
				catch (e) {
						alert("Try with another Browser !");
						return false;}
			}
			req.open("POST", url, true);
			req.onreadystatechange = function() {
				if (req.readyState == 4) {
					callback(req);
				}
			}
			req.send(data);
		}

		function process() {
			var txt = $("textarea#txtAreaToProcess").val();
			var choice = $(".form-control option:selected").val();
			var data = choice+"_"+txt 	//formate the text for the server side
			xml_http_post("task2_3.html", data, test_handle)
		}
		function test_handle(req) {
			//get the response from the server & print it in the textarea
			$("textarea#processedArea").val(req.responseText);
		}


	</script>

</head>
<body>
	<div class="col-sm-12" style="height:50px;">
	</div>
	<div class="row">
		<div class="col-sm-1">
		<div id="result">
		</div>
		</div>
		<div class="col-sm-4">

			<form name="ciperForm" onSubmit="return process()" method="POST" role="form">
				<div class="form-group">
					<label for="comment">Enter a text</label>
					<textarea class="form-control" rows="5" id="txtAreaToProcess" name="txtToProcess"></textarea>
				</div>
				<div class="col-sm-offset-5 col-sm-4" style="border:1px solid white;">
					<select class="form-control" name="processChoice">
						<option>Encrypt</option>
						<option>Decrypt</option>
					</select>
				</div>
				<div class="col-sm-3 form-actions" style="border:1px solid white;">
					<button type=button onClick="process();" class="btn btn-success">Process</button>
				</div>
			</form>

		</div>
		<div class="col-sm-2">
		</div>
		<div class="col-sm-4">
				<div class="form-group">
					<label for="comment">Processed text</label>
					<textarea class="form-control" rows="5" id="processedArea"></textarea>
					<br>
				</div>
		</div>
		<div class="col-sm-1">
		</div>
	</div>
</body>
</html>